{% extends 'layout.html' %}

{% block extra_links %}
<link rel="stylesheet" href="{{ url_for('static', filename='cm-chessboard/assets/styles/cm-chessboard.css') }}">
{% endblock extra_links %}

{% block content %}

<div class="container-lg">

    <div class="row mt-3">
        <div class="col-lg-7">

            <div id="overlay" class="overlay active">
                <div class="chessboard" id="board"></div>
                <div id="fen" class="hidden">{{ fen }}</div>

                <div id="modal" class="promotion_modal active">
                    {% if current_player.color == 'b' %}
                        <div class="sq sq-q"><img class="piece-img" src="{{ url_for('static', filename='img/BQ.jpg') }}" alt="Q"></div>
                        <div class="sq sq-r"><img class="piece-img" src="{{ url_for('static', filename='img/BR.jpg') }}" alt="R"></div>
                        <div class="sq sq-b"><img class="piece-img" src="{{ url_for('static', filename='img/BB.jpg') }}" alt="B"></div>
                        <div class="sq sq-k"><img class="piece-img" src="{{ url_for('static', filename='img/BN.jpg') }}" alt="N"></div>
                    {% else %}
                        <div class="sq sq-q"><img class="piece-img" src="{{ url_for('static', filename='img/WQ.jpg') }}" alt="Q"></div>
                        <div class="sq sq-r"><img class="piece-img" src="{{ url_for('static', filename='img/WR.jpg') }}" alt="R"></div>
                        <div class="sq sq-b"><img class="piece-img" src="{{ url_for('static', filename='img/WB.jpg') }}" alt="B"></div>
                        <div class="sq sq-k"><img class="piece-img" src="{{ url_for('static', filename='img/WN.jpg') }}" alt="N"></div>
                    {% endif %}
                </div>
            </div>

        </div>

        <div class="col-lg-5">

            <div class="row h-100">
                <div class="col-lg-12 col-6">
                    <div class="row mt-1">

                        <div class="col-lg-2 col-3">
                            <img class="profile_image" src="{{ opponent.user.get_image_url() }}"></img>
                        </div>
                        <div class="col-lg-7 col-9">
                            <div class="username">{{ opponent.user.username }}</div>
                        </div>
                        <div class="col-lg-3 col-12">00:00</div>

                    </div>
                </div>
                <div class="col-lg-12 col-6 mt-auto">
                    <div class="row mt-1 mb-1">

                        <div class="col-lg-2 col-3 order-2 order-lg-1 text-end text-lg-start">
                            <img class="profile_image" src="{{ current_player.user.get_image_url() }}"></img>
                        </div>
                        <div class="col-lg-7 col-9 order-1 text-end text-lg-start">
                            <div class="username">
                                {{ current_player.user.username }}
                                <div class="hidden" id="current_player_color">{{ current_player.color }}</div>
                            </div>
                        </div>
                        <div class="col-lg-3 col-12 order-3 order-lg-3 text-end text-lg-start">00:00</div>

                    </div>
                </div>
            </div>
        </div>
    </div>

</div>

{% endblock content %}

{% block extra_scripts %}
    <script src={{ url_for('static', filename='js/chessboard.js') }} type="module"></script>
{% endblock extra_scripts %}
